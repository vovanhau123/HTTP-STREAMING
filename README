# Music Streaming API ğŸµ
An HLS-based music streaming API with random playback capabilities.
*API phÃ¡t nháº¡c trá»±c tuyáº¿n vá»›i tÃ­nh nÄƒng streaming HLS vÃ  phÃ¡t ngáº«u nhiÃªn.*

## Features | TÃ­nh nÄƒng

### 1. Music Playback | PhÃ¡t Nháº¡c
- HLS (HTTP Live Streaming) support | *Streaming nháº¡c sá»­ dá»¥ng HLS*
- Auto-next track functionality | *Tá»± Ä‘á»™ng chuyá»ƒn bÃ i khi káº¿t thÃºc*
- Random playback | *PhÃ¡t ngáº«u nhiÃªn*
- Play count tracking | *Theo dÃµi sá»‘ láº§n phÃ¡t*

### 2. File Management | Quáº£n lÃ½ File
- Music file upload support | *Upload file nháº¡c*
- Automatic processing and segmentation | *Tá»± Ä‘á»™ng xá»­ lÃ½ vÃ  phÃ¢n Ä‘oáº¡n file*
- Multiple audio format support | *Há»— trá»£ nhiá»u Ä‘á»‹nh dáº¡ng audio*
- Multi-quality HLS playlist generation | *Táº¡o playlist HLS vá»›i nhiá»u cháº¥t lÆ°á»£ng*

### 3. Database Structure | CÆ¡ sá»Ÿ dá»¯ liá»‡u
SQLite tables:
- `users`: User management | *Quáº£n lÃ½ ngÆ°á»i dÃ¹ng*
- `tracks`: Song information | *ThÃ´ng tin bÃ i hÃ¡t*
- `segments`: HLS segments | *CÃ¡c Ä‘oáº¡n nháº¡c HLS*
- `playlists`: HLS playlists | *Playlist HLS*
- `user_playlists`: User playlists | *Playlist ngÆ°á»i dÃ¹ng*
- `playlist_tracks`: Playlist tracks | *Tracks trong playlist*
- `likes`: Like tracking | *LÆ°á»£t thÃ­ch*
- `comments`: User comments | *BÃ¬nh luáº­n*

### 4. Optimizations | Tá»‘i Æ°u hÃ³a
- Search optimization indexes | *Index cho tÃ¬m kiáº¿m nhanh*
- SQLite WAL mode | *WAL mode cho SQLite*
- Transaction support | *Há»— trá»£ transaction*
- Streaming buffer and cache | *Buffer vÃ  cache cho streaming*
- Comprehensive error handling | *Xá»­ lÃ½ lá»—i*

## Installation | CÃ i Ä‘áº·t

```bash
# Clone repository | Clone repository
git clone [repository-url]
cd music-streaming-api

# Install dependencies | CÃ i Ä‘áº·t dependencies
npm install

# Initialize directories | Khá»Ÿi táº¡o thÆ° má»¥c
npm run init

# Start server | Cháº¡y server
npm start
```

Server runs at `http://localhost:3000`
*Server sáº½ cháº¡y táº¡i `http://localhost:3000`*

## API Endpoints | Äiá»ƒm cuá»‘i API

### Tracks | BÃ i hÃ¡t
- `GET /api/tracks`: Get track list | *Láº¥y danh sÃ¡ch tracks*
- `GET /api/tracks/:id/playlist`: Get track playlist | *Láº¥y playlist cá»§a track*
- `GET /api/tracks/random`: Get random track | *Láº¥y track ngáº«u nhiÃªn*
- `GET /api/tracks/random/:genre`: Get random track by genre | *Láº¥y track ngáº«u nhiÃªn theo thá»ƒ loáº¡i*
- `POST /api/tracks/:id/play`: Update play count | *Cáº­p nháº­t lÆ°á»£t phÃ¡t*

### Upload | Táº£i lÃªn
- `POST /upload`: Upload new music file | *Upload file nháº¡c má»›i*

## Project Structure | Cáº¥u trÃºc thÆ° má»¥c
```
â”œâ”€â”€ data/           # Database
â”œâ”€â”€ public/         
â”‚   â”œâ”€â”€ index.html  # Frontend
â”‚   â””â”€â”€ streams/    # HLS streams
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/     # Configuration
â”‚   â”œâ”€â”€ controllers/# Controllers
â”‚   â”œâ”€â”€ middleware/ # Middleware
â”‚   â”œâ”€â”€ models/     # Models
â”‚   â”œâ”€â”€ routes/     # Routes
â”‚   â”œâ”€â”€ services/   # Business logic
â”‚   â””â”€â”€ server.js   # Entry point
â”œâ”€â”€ uploads/        # Upload files
â””â”€â”€ package.json
```

## Technologies | CÃ´ng nghá»‡
- Node.js
- Express.js
- SQLite3
- HLS.js
- Multer

## Roadmap | TÃ­nh nÄƒng Ä‘ang phÃ¡t triá»ƒn
- [ ] User authentication | *XÃ¡c thá»±c ngÆ°á»i dÃ¹ng*
- [ ] Playlist management | *Quáº£n lÃ½ playlist*
- [ ] Likes and comments | *Like vÃ  comment*
- [ ] Advanced search | *TÃ¬m kiáº¿m nÃ¢ng cao*
- [ ] Song recommendations | *Gá»£i Ã½ bÃ i hÃ¡t*
- [ ] Listening statistics | *Thá»‘ng kÃª nghe nháº¡c*

## Contributing | ÄÃ³ng gÃ³p
Contributions are welcome! Please follow these steps:
*Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n. Vui lÃ²ng:*

1. Fork the project | *Fork project*
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request | *Táº¡o Pull Request*

## License | Giáº¥y phÃ©p
MIT License - see [LICENSE](LICENSE) for details
*MIT License - xem [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t*